@page
@using SailClubLibrary.Models
@model RazorBoatApp2026.Pages.Boats.IndexModel
@{
	ViewData["Title"] = "List boats";
}

<h1>List of boats</h1>

<form method="get" class="mb-4">
	<div class="input-group">
		<input type="text"
			   asp-for="@Model.FilterCriteria"
			   class="form-control"
			   placeholder="Search boat..."
			   aria-label="Search"
			   aria-describedby="search-addon" />
		@if (!string.IsNullOrEmpty(Model.FilterCriteria))
		{
			<a asp-page="./Index" class="btn btn-outline-secondary"><i class="bi bi-x"></i></a>
		}
		<button class="btn btn-primary" type="submit" id="button-filter">
			<i class="bi bi-search"></i>
		</button>
	</div>
</form>

<table class="table">
	<thead>
		<tr>
			<form method="get">
			<th><button type="submit" class="btn btn-link" name="SortBy" value="Id">Id</button></th>
			<th>BoatType</th>
			<th>Model</th>
			<th>SailNumber</th>
			<th>YearOfConstruction</th>
			<th style="width: 1%" class="text-center">Edit</th>
			<th style="width: 1%" class="text-center">Delete</th>
			</form>
		</tr>
	</thead>
	<tbody>
		@foreach(Boat boat in Model.Boats)
		{
			<tr>
				<td>@boat.Id</td>
				<td>@boat.TheBoatType</td>
				<td>@boat.Model</td>
				<td>@boat.SailNumber</td>
				<td>@boat.YearOfConstruction</td>
				<td class="text-nowrap">
					<a asp-page="/Boats/EditBoat" asp-route-sailNumber="@boat.SailNumber" class="btn btn-outline-secondary btn-sm">
						<i class="bi bi-pencil-square"></i> Edit
					</a>
				</td>
				<td class="text-nowrap">
					<form method="post" asp-page-handler="Delete" asp-route-sailNumber="@boat.SailNumber">
						<button type="submit" class="btn btn-danger btn-sm">
							<i class="bi bi-trash"></i>
						</button>
					</form>
				</td>
			</tr>
		}
	</tbody>
</table>

<a asp-page="createboat" class="btn btn-success btn-sm"><i class="bi bi-plus-circle-dotted"></i>  Add boat</a>
